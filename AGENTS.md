<!-- Generated by Ruler -->

# Memora - AI Chat with Context Management

## 📖 Specification Documents

This project has complete specifications for building Memora. Start here:

1. **[MEMORA_SPEC.md](./MEMORA_SPEC.md)** - Complete architecture, database schema, features, and user flows
2. **[GOOGLE_STITCH_PROMPTS.md](./GOOGLE_STITCH_PROMPTS.md)** - UI generation prompts for Google Stitch
3. **[CLAUDE_CODE_PROMPTS.md](./CLAUDE_CODE_PROMPTS.md)** - Step-by-step implementation prompts for AI coding assistants
4. **[IMPLEMENTATION_PLAN.md](./IMPLEMENTATION_PLAN.md)** - 8-week implementation timeline and roadmap
5. **[AI_ASSISTANT_GUIDE.md](./AI_ASSISTANT_GUIDE.md)** - Quick reference for AI assistants helping with development

### Quick Start for AI Assistants

If you're an AI assistant helping build Memora:
1. Read `AI_ASSISTANT_GUIDE.md` for quick overview
2. Reference `MEMORA_SPEC.md` for detailed architecture
3. Follow `CLAUDE_CODE_PROMPTS.md` sequentially for implementation
4. Check `IMPLEMENTATION_PLAN.md` for current phase and progress

### TypeScript Linting Guidelines (Critical)

**ALWAYS run `bun run check` before completing any task.** This project uses Biome linting with strict TypeScript rules.

#### ❌ Common Errors to Avoid:

1. **Interface vs Type**: Use `type` instead of `interface`
   ```typescript
   // ❌ WRONG
   export interface User {
     name: string;
   }

   // ✅ CORRECT
   export type User = {
     name: string;
   };
   ```

2. **Magic Numbers**: All numeric literals must be constants
   ```typescript
   // ❌ WRONG
   if (status === 400) { ... }
   
   // ✅ CORRECT
   import { HTTP_STATUS } from "./common/constants/limits.constants";
   if (status === HTTP_STATUS.BAD_REQUEST) { ... }
   ```

3. **Console Usage**: No console.log/error in production code
   ```typescript
   // ❌ WRONG
   console.error("Error:", error);
   
   // ✅ CORRECT
   // Use proper error handling or logging service
   ```

#### ✅ Before Completing Any Task:

1. **Run Lint Check**: `bun run check`
2. **Fix All Errors**: Address every single linting issue
3. **Re-run Check**: Verify all errors are resolved
4. **No Warnings Accepted**: Zero tolerance for lint violations

#### 📁 Constants Available:
- `HTTP_STATUS` - All HTTP status codes
- `FILE_LIMITS.BYTES_PER_MB`, `FILE_LIMITS.MAX_FILENAME_LENGTH` - File constants
- Use existing constants in `packages/api/src/common/constants/`

#### 🚨 Zero Policy:
- **No interface declarations allowed**
- **No magic numbers allowed**  
- **No console statements allowed**
- **Every lint error must be fixed**

---

<!-- Source: .ruler/bts.md -->

# Better-T-Stack Project Rules

This is a memora project created with Better-T-Stack CLI.

## Project Structure

This is a monorepo with the following structure:

- **`apps/web/`** - Frontend application (Next.js)

- **`apps/server/`** - Backend server (Hono)

- **`packages/api/`** - Shared API logic and types
- **`packages/auth/`** - Authentication logic and utilities
- **`packages/db/`** - Database schema and utilities


## Available Scripts

- `bun run dev` - Start all apps in development mode
- `bun run dev:web` - Start only the web app
- `bun run dev:server` - Start only the server

## Database Commands

All database operations should be run from the server workspace:

- `bun run db:push` - Push schema changes to database
- `bun run db:studio` - Open database studio
- `bun run db:generate` - Generate Prisma files
- `bun run db:migrate` - Run database migrations

Database schema is located in `apps/server/prisma/schema.prisma`

## API Structure

- tRPC routers are in `apps/server/src/routers/`
- Client-side tRPC utils are in `apps/web/src/utils/trpc.ts`

## Authentication

Authentication is enabled in this project:
- Server auth logic is in `apps/server/src/lib/auth.ts`
- Web app auth client is in `apps/web/src/lib/auth-client.ts`

## Adding More Features

You can add additional addons or deployment options to your project using:

```bash
bunx create-better-t-stack
add
```

Available addons you can add:
- **Documentation**: Starlight, Fumadocs
- **Linting**: Biome, Oxlint, Ultracite
- **Other**: Ruler, Turborepo, PWA, Tauri, Husky

You can also add web deployment configurations like Cloudflare Workers support.

## Project Configuration

This project includes a `bts.jsonc` configuration file that stores your Better-T-Stack settings:

- Contains your selected stack configuration (database, ORM, backend, frontend, etc.)
- Used by the CLI to understand your project structure
- Safe to delete if not needed
- Updated automatically when using the `add` command

## Key Points

- This is a Turborepo monorepo using bun workspaces
- Each app has its own `package.json` and dependencies
- Run commands from the root to execute across all workspaces
- Run workspace-specific commands with `bun run command-name`
- Turborepo handles build caching and parallel execution
- Use `bunx
create-better-t-stack add` to add more features later


Dependencies installed successfully

 ╭──────────────────────────────────────────────────────────────────╮
 │                                                                  │
 │  Next steps                                                      │
 │  1. cd memora                                                    │
 │  2. bun run dev                                                  │
 │  Your project will be available at:                              │
 │  • Frontend: http://localhost:3001                               │
 │  • Backend API: http://localhost:3000                            │
 │                                                                  │
 │  Database commands:                                              │
 │  • Apply schema: bun run db:push                                 │
 │  • Database UI: bun run db:studio                                │
 │                                                                  │
 │  Linting and formatting:                                         │
 │  • Format and lint fix: bun run check                            │
 │                                                                  │
 │  Polar Payments Setup:                                           │
 │  • Get access token & product ID from https://sandbox.polar.sh/  │
 │  • Set POLAR_ACCESS_TOKEN in apps/server/.env                    │
 │                                                                  │
 │  Update all dependencies:                                        │
 │  bunx taze -r                                                    │
 │                                                                  │
 │  Like Better-T-Stack? Please consider giving us a star           │
 │     on GitHub:                                                   │
 │  https://github.com/AmanVarshney01/create-better-t-stack         │
 │                                                            